package com.rd.server;

import java.io.File;
import java.util.ArrayList;


import com.rd.server.util.SUtil;
//import com.rd.server.util.Test;


public class UpCheckBarcode {
	
	/**
	 * 将条码数据绑定录入至数据库
	 * @author fangliangmeng
	 * @param request
	 * @param fileName
	 */
	public static void upCheck(ArrayList<String>  list,String fileName){
		String shpm_no = list.get(0);
		String sku_id = list.get(1);
		String addr_code = list.get(2);
		String shpm_row = list.get(3);
		int count = Integer.parseInt(list.get(4));
		String userid = list.get(5);
		
		String path = UpCheckBarcode.class.getClass().getResource("/").toString();
		
		//File file = new File(path.substring(6,path.length()-4) +"war/user/"+userid+"/" + fileName); 
        /*Test t = new Test();
        String str = t.toString(file);
        String[] s = str.split("\n");
        
        StringBuffer sql;
        ArrayList<String> sqlList = new ArrayList<String>();
        
        for(int i=0;i<s.length;i++){
        	sql = new StringBuffer();
        	sql.append("insert into trans_barcode(id,shpm_no,shpm_row,sku_id,addr_code,barcode) ");
        	sql.append("values(sys_guid(),'");
        	sql.append(shpm_no);
        	sql.append("',");
        	sql.append(shpm_row);
        	sql.append(",'");
        	sql.append(sku_id);
        	sql.append("','");
        	sql.append(addr_code);
        	sql.append("','");
        	sql.append(s[i].trim());
        	sql.append("')");
        	
        	sqlList.add(sql.toString());
        	if(i%100 == 0){
        		SUtil.excuteSQLList(sqlList);
        		sqlList = new ArrayList<String>();
        	}
        }
        for(int i=0;i<count - s.length;i++){
        	sql = new StringBuffer();
        	sql.append("insert into trans_barcode(id,shpm_no,shpm_row,sku_id,addr_code,barcode) ");
        	sql.append("values(sys_guid(),'");
        	sql.append(shpm_no);
        	sql.append("',");
        	sql.append(shpm_row);
        	sql.append(",'");
        	sql.append(sku_id);
        	sql.append("','");
        	sql.append(addr_code);
        	sql.append("','");
        	sql.append("AAAAA");
        	sql.append("')");
        	
        	sqlList.add(sql.toString());
        }
        
        SUtil.excuteSQLList(sqlList);
        */
	}
	
	/**
	 * 核对条码数量与货品数量
	 * @author fangliangmeng
	 * @param fileName
	 * @param sum
	 * @return
	 */
	public static boolean checkQnty(String fileName,ArrayList<String> list){
		/*File file = new File(fileName); 
        Test t = new Test();
        String str = t.toString(file);
        String[] s = str.split("\n");
        int sum = Integer.parseInt(list.get(4));
        
        if(s.length == sum){
        	upCheck(list, fileName);
        	return true;
        }else{
        	return false;
        }
        */
		return true;
	}
	
}
